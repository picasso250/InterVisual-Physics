<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简谐运动模拟 | 物理现象互动实验室</title>
    <!-- COMMON STYLES FIRST -->
    <link rel="stylesheet" href="common.css">
    <!-- PAGE-SPECIFIC STYLES -->
    <link rel="stylesheet" href="shm.css">
    <link rel="stylesheet" href="data_display.css">
    <link rel="stylesheet" href="controls.css">
</head>
<body>
    <!-- ADDED BACK LINK -->
    <a href="index.html" class="back-link" aria-label="返回主页">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" width="20" height="20">
            <path fill-rule="evenodd" d="M12.79 5.23a.75.75 0 010 1.06L9.06 10l3.73 3.71a.75.75 0 11-1.06 1.06l-4.25-4.25a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0z" clip-rule="evenodd" />
        </svg>
        <span>返回</span>
    </a>

    <canvas id="shmCanvas"></canvas>
    <div id="info">拖拽振子设置初始位置，点击画布开始模拟。</div>

    <!-- Controls panel -->
    <div id="controls" class="ui-panel controls-panel">
        <!-- Content will be dynamically generated by ControlsManager -->
    </div>

    <!-- Data display container -->
    <div id="dataDisplay" class="ui-panel">
        <!-- Content will be dynamically generated by data_display.js -->
    </div>

    <!-- Formula panel -->
    <div id="formulaExplanation" class="ui-panel">
        <h3>简谐运动 (SHM) 微分形式</h3>

        <p><b>1. 恢复力 (胡克定律):</b></p>
        <p>恢复力 <span class="color-f">F</span> 与位移 <mi>x</mi> 成正比，方向相反：</p>
        <math display="block"><mrow><mi>F</mi><mo>=</mo><mo>-</mo><mi>k</mi><mi>x</mi></mrow></math>
        <p><mi>k</mi> 为弹簧常数，<mi>x</mi> 为振子位移。</p>

        <p><b>2. 牛顿第二定律:</b></p>
        <p>合力 <span class="color-f">F</span> = <mi>m</mi><mi>a</mi>。</p>
        <p>加速度 <mi>a</mi> 是 <mi>x</mi> 对 <mi>t</mi> 的二阶导数：
        <math display="inline"><mrow><mi>a</mi><mo>=</mo><mfrac><mrow><msup><mi>d</mi><mn>2</mn></msup><mi>x</mi></mrow><mrow><mi>d</mi><msup><mi>t</mi><mn>2</mn></msup></mrow></mfrac></mrow></math>。</p>

        <p><b>3. 运动微分方程:</b></p>
        <math display="block"><mrow><mi>m</mi><mfrac><mrow><msup><mi>d</mi><mn>2</mn></msup><mi>x</mi></mrow><mrow><mi>d</mi><msup><mi>t</mi><mn>2</mn></msup></mrow></mfrac><mo>=</mo><mo>-</mo><mi>k</mi><mi>x</mi></mrow></math>
        <p>整理成标准形式：</p>
        <math display="block"><mrow><mfrac><mrow><msup><mi>d</mi><mn>2</mn></msup><mi>x</mi></mrow><mrow><mi>d</mi><msup><mi>t</mi><mn>2</mn></msup></mrow></mfrac><mo>+</mo><mfrac><mi>k</mi><mi>m</mi></mfrac><mi>x</mi><mo>=</mo><mn>0</mn></mrow></math>
        <p>定义简谐运动。引入角频率 <mi>&omega;</mi>，其中 <math display="inline"><mrow><msup><mi>&omega;</mi><mn>2</mn></msup><mo>=</mo><mi>k</mi><mo>/</mo><mi>m</mi></mrow></math> (或 <math display="inline"><mrow><mi>&omega;</mi><mo>=</mo><msqrt><mrow><mi>k</mi><mo>/</mo><mi>m</mi></mrow></msqrt></mrow></math>)。</p>
        <p>最终形式：</p>
        <math display="block"><mrow><mfrac><mrow><msup><mi>d</mi><mn>2</mn></msup><mi>x</mi></mrow><mrow><mi>d</mi><msup><mi>t</mi><mn>2</mn></msup></mrow></mfrac><mo>+</mo><msup><mi>&omega;</mi><mn>2</mn></msup><mi>x</mi><mo>=</mo><mn>0</mn></mrow></math>
    </div>

    <script type="module" src="shm.js"></script>
</body>
</html>