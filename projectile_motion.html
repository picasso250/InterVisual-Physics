<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>抛体运动模拟 | 物理现象互动实验室</title>
    <!-- COMMON STYLES FIRST -->
    <link rel="stylesheet" href="common.css">
    <!-- PAGE-SPECIFIC STYLES -->
    <link rel="stylesheet" href="projectile_motion.css">
    <link rel="stylesheet" href="data_display.css">
    <link rel="stylesheet" href="controls.css">
    
    <!-- ADD KATEX CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">

    <!-- ADD KATEX JS (defer aattributes improves loading performance) -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
</head>
<body>
    <!-- ... (body content is unchanged) ... -->
    <a href="index.html" class="back-link" aria-label="返回主页">
        <span class="back-icon"></span>
        <span>返回</span>
    </a>

    <canvas id="gravityCanvas"></canvas>
    <div id="info">点击开始</div>

    <!-- Controls panel is now empty, will be populated by JS -->
    <div id="controls" class="ui-panel controls-panel"></div>

    <!-- ... (rest of the body is unchanged) ... -->
    <div id="dataDisplayContainer" class="ui-panel"></div>
    <div id="explanation" class="ui-panel">
        <p><span class="color-g">重力 (G):</span> 恒定向下，使垂直速度 <span class="color-vy">Vy</span> 持续改变。</p>
        <p><span class="color-vx">水平速度 (Vx):</span> 保持不变，因无水平外力。</p>
        <p><span class="color-vy">垂直速度 (Vy):</span> 受重力影响，向上减小，向下增大。</p>
        <p><span class="color-v">合速度 (V):</span> 是 <span class="color-vx">Vx</span> 和 <span class="color-vy">Vy</span> 的矢量和。</p>
    </div>
    <div id="formulaExplanation" class="ui-panel">
        <h3>运动学公式 (微分形式)</h3>
        <p>物理量在极短时间段 (<span class="color-g">$dt$</span>) 内的变化。</p>
        <p><b>水平方向 (<span class="color-vx">x轴</span>):</b></p>
        <!-- 原来的 <math> 标签被替换 -->
        <p>$$dV_x = 0$$</p>
        <p>$$dX = V_x dt$$</p>
        
        <p><b>垂直方向 (<span class="color-vy">y轴</span>):</b></p>
        <!-- 原来的 <math> 标签被替换 -->
        <p>$$dV_y = g\,dt$$</p>
        <p>$$dY = V_y dt$$</p>

        <p><b>合速度  <span class="color-v">$\vec{V}$</span> :</b></p>
        <!-- 注意：向量 \vec{V} 的写法 -->
        <p>$$\vec{V} = \vec{V_x} + \vec{V_y}$$</p>
    </div>
    <script type="module" src="projectile_motion.js"></script>
    <!-- ADD THIS SCRIPT TO TRIGGER KATEX -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                // ... a list of options if you need them ...
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '\\[', right: '\\]', display: true},
                    {left: '\\(', right: '\\)', display: false},
                    {left: '$', right: '$', display: false}
                ]
            });
        });
    </script>
</body>
</html>